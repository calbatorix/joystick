#include <report.h>
typedef struct buffer {
	int16_t axis[numAxes];;
}buffer;

joyReport_t::joyReport_t(int num_axes){
	numAxes = num_axes;	

}

void joyReport_t::init(){
	Serial.begin(115200);
	delay(200);
}

void joyReport_t::setJoyReport(int tabValue[]){
	for (uint8_t ind=0; ind<numAxes; ind++){
	    buf.axis[ind] =tabValue[ind];
        }	

	joyReport_t::sendJoyReport(&buf);	
}

void joyReport_t::sendJoyReport(struct buffer *buffe){
	Serial.write((uint8_t*)buffe, sizeof(buffer));// doit obtenir un truc comme ca "Serial.write(const (uint8_t *)buffer, size_t size);"
    	for (uint8_t ind=0; ind<numAxes; ind++) {
		Serial.print("axis[");
		Serial.print(ind);
		Serial.print("]= ");
		Serial.print(buf.axis[ind]);
		Serial.println(" ");
	}
	Serial.println();
}
